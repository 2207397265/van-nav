{"version":3,"sources":["components/CardV2/index.tsx","components/SearchBar/index.tsx","components/Loading/index.tsx","utils/api.tsx","components/TagSelector/index.tsx","components/Content/index.tsx","utils/tools.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Card","title","url","des","logo","catelog","href","target","rel","className","src","alt","SearchBar","props","type","placeholder","onChange","ev","v","value","trim","setSearchText","Loading","FetchList","a","axios","get","raw","data","catelogs","push","tools","forEach","item","includes","TagSelector","tags","onTagChange","currTag","renderTags","useCallback","map","each","onClick","Content","useState","setData","loading","setLoading","setCurrTag","searchString","setSearchString","loadData","r","console","log","useEffect","handleSetSearch","fn","delay","current","useRef","time","args","clearTimeout","setTimeout","apply","useDebounce","val","tagInLocalStorage","window","localStorage","getItem","renderCardsV2","filter","name","toLowerCase","CardV2","desc","id","Helmet","charSet","setting","favicon","tag","setItem","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ca85be4a.chunk.js","sourcesContent":["const Card = ({ title, url, des, logo, catelog }) => {\r\n  return (\r\n    <a href={url} target=\"_blank\" rel=\"noreferrer\" className=\"card-box\">\r\n      <div className=\"card-content\">\r\n        <div className=\"card-left\">\r\n          <img src={logo} alt={title} />\r\n        </div>\r\n        <div className=\"card-right\">\r\n          <div className=\"card-right-top\">\r\n            <span className=\"card-right-title\">{title}</span>\r\n            <span className=\"card-tag\">{catelog}</span>\r\n          </div>\r\n          <div className=\"card-right-bottom\">{des}</div>\r\n        </div>\r\n      </div>\r\n    </a>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import \"./index.scss\";\r\n// import { useState } from 'react';\r\n\r\ninterface SearchBarProps {\r\n  setSearchText: (t: string) => void;\r\n}\r\nconst SearchBar = (props: SearchBarProps) => {\r\n  return (\r\n    <div className=\"search span-3\">\r\n      <div className=\"search-wraper\">\r\n        <input\r\n          type=\"search\"\r\n          placeholder=\"Let's go.\"\r\n          onChange={(ev) => {\r\n            const v = ev.target.value.trim();\r\n            props.setSearchText(v);\r\n          }}\r\n        ></input>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import \"./index.scss\";\nexport const Loading = (props: any) => {\n  return (\n    <div className=\"loading span-3\">\n      <div className=\"lds-ring\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  );\n};\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/\";\r\n// const baseUrl = \"https://tools.mereith.com/api/\";\r\nexport const FetchList =async () => {\r\n    const {data: raw} = await axios.get(baseUrl);\r\n    const {data} = raw;\r\n    // 获取分类\r\n    const catelogs = [];\r\n    catelogs.push(\"全部工具\")\r\n    data.tools.forEach(item => {\r\n        if (!catelogs.includes(item.catelog)) {\r\n            catelogs.push(item.catelog);\r\n        }\r\n    });\r\n    data.catelogs = catelogs;\r\n    return data;\r\n};\r\nexport default FetchList;\r\n\r\n\r\n","import \"./index.scss\";\nimport { useCallback } from \"react\";\ninterface TagSelectorProps {\n  tags: any;\n  onTagChange: (newTag: string) => void;\n  currTag: string;\n}\nconst TagSelector = (props: TagSelectorProps) => {\n  const { tags = [\"all\"], onTagChange, currTag } = props;\n\n  const renderTags = useCallback(() => {\n    return tags.map((each) => {\n      return (\n        <span\n          className={`select-tag ${\n            currTag === each ? \"select-tag-active\" : \"\"\n          }`}\n          key={`${each}-select-tag`}\n          onClick={() => {\n            onTagChange(each);\n          }}\n        >\n          {each}\n        </span>\n      );\n    });\n  }, [tags, onTagChange, currTag]);\n  return (\n    <div className=\"tag-selector span-3\">\n      <div className=\"tag-selector-wrapper\">\n        {renderTags()}\n      </div>\n    </div>\n  );\n};\n\nexport default TagSelector;\n","import \"./index.scss\";\r\nimport CardV2 from \"../CardV2\";\r\nimport SearchBar from \"../SearchBar\";\r\nimport { Loading } from \"../Loading\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport FetchList from \"../../utils/api\";\r\nimport TagSelector from \"../TagSelector\";\r\nimport { useDebounce } from \"../../utils/tools\";\r\n\r\nconst Content = (props: any) => {\r\n  const [data, setData] = useState<any>({});\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [currTag, setCurrTag] = useState(\"全部工具\");\r\n  const [searchString, setSearchString] = useState(\"\");\r\n  const loadData = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const r = await FetchList();\r\n      setData(r);\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [setData, setLoading]);\r\n  useEffect(() => {\r\n    loadData();\r\n  }, [loadData]);\r\n\r\n  const handleSetCurrTag = (tag: string) => {\r\n    setCurrTag(tag);\r\n    window.localStorage.setItem(\"tag\", tag);\r\n  };\r\n\r\n  const handleSetSearch = useDebounce((val: string) => {\r\n    if (val !== \"\" && val) {\r\n      setCurrTag(\"全部工具\");\r\n    } else {\r\n      const tagInLocalStorage = window.localStorage.getItem(\"tag\");\r\n      if (tagInLocalStorage && tagInLocalStorage !== \"\") {\r\n        setCurrTag(tagInLocalStorage);\r\n      }\r\n    }\r\n    setSearchString(val);\r\n  }, 500);\r\n\r\n  const renderCardsV2 = useCallback(() => {\r\n    if (data.tools) {\r\n      return data.tools\r\n        .filter((item: any) => {\r\n          if (currTag === \"全部工具\") {\r\n            return true;\r\n          }\r\n          return item.catelog === currTag;\r\n        })\r\n        .filter((item: any) => {\r\n          if (searchString === \"\") {\r\n            return true;\r\n          }\r\n          return (item.name as string)\r\n            .toLowerCase()\r\n            .includes(searchString.toLowerCase());\r\n        })\r\n        .map((item) => {\r\n          return (\r\n            <CardV2\r\n              title={item.name}\r\n              url={item.url}\r\n              des={item.desc}\r\n              logo={item.logo}\r\n              key={item.id}\r\n              catelog={item.catelog}\r\n            />\r\n          );\r\n        });\r\n    }\r\n    return null;\r\n  }, [data, currTag, searchString]);\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <link\r\n          rel=\"icon\"\r\n          href={\r\n            data?.setting?.favicon ?? \"https://pic.mereith.com/img/male.svg\"\r\n          }\r\n        />\r\n        <title>{data?.setting?.title ?? \"Mereith's Nav Site\"}</title>\r\n      </Helmet>\r\n      <div className=\"topbar\">\r\n        <div className=\"content\">\r\n          <SearchBar setSearchText={handleSetSearch} />\r\n          <TagSelector\r\n            tags={data?.catelogs ?? [\"全部工具\"]}\r\n            currTag={currTag}\r\n            onTagChange={handleSetCurrTag}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"content-wraper\">\r\n        <div className=\"content cards\">\r\n          {loading ? <Loading></Loading> : renderCardsV2()}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Content;\r\n","import { useRef, useCallback } from \"react\";\n\nexport const useDebounce = (fn: any, delay: number) => {\n  const { current } = useRef<{ time: any }>({ time: null });\n  return useCallback(\n    (...args: any[]) => {\n      if (current.time) {\n        clearTimeout(current.time);\n        current.time = null;\n      }\n      current.time = setTimeout(() => {\n        fn.apply(this, args);\n        clearTimeout(current.time);\n        current.time = null;\n      }, delay);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [current, delay]\n  );\n};","import \"./App.scss\";\r\nimport Content from \"./components/Content\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"main\">\r\n        <Content />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}